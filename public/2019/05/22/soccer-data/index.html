<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.55.4" />


<title>soccer data  - Marco&#39;s blog</title>
<meta property="og:title" content="soccer data  - Marco&#39;s blog">


  <link href='/favicon.ico' rel='icon' type='image/x-icon'/>



  








<link href='//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css' rel='stylesheet' type='text/css' />



<link rel="stylesheet" href="/css/fonts.css" media="all">
<link rel="stylesheet" href="/css/main.css" media="all">



  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="/" class="nav-logo">
    <img src="/images/gzzy.jpg"
         width="65"
         height="65"
         alt="Logo">
  </a>

  <ul class="nav-links">
    
    <li><a href="/about/">Contact Me</a></li>
    
    <li><a href="https://github.com/GuozySCU">GitHub</a></li>
    
    <li><a href="https://www.jianshu.com/u/f6dd913dbbf4">JianShu</a></li>
    
    <li><a href="/2019-05-13-projects.md/">Projects</a></li>
    
  </ul>
</nav>

      </header>


<main class="content" role="main">

  <article class="article">
    
    <span class="article-duration">4 min read</span>
    

    <h1 class="article-title">soccer data </h1>

    
    <span class="article-date">2019-05-22</span>
    

    <div class="article-content">
      


<div id="section" class="section level2">
<h2>某场比赛数据爬取</h2>
<pre class="r"><code>library(RCurl)</code></pre>
<pre><code>## 载入需要的程辑包：bitops</code></pre>
<pre class="r"><code>library(XML)
i=10854899 #比赛编号
url &lt;- sprintf(&#39;https://g.hupu.com/soccer/data_%d.html&#39;,i)
temp &lt;- getURL(url,.encoding=&#39;utf-8&#39;)
doc &lt;-htmlParse(temp)
players &lt;- readHTMLTable(doc)
home &lt;- players$table_home_players_stats
away &lt;- players$table_away_players_stats
print(home)</code></pre>
<pre><code>##    位置       球员名     出场 时间 进球 助攻 射门 射正 射正率 黄牌 红牌
## 1  门将     乌尔赖希     首发  90&#39;    0    0    0    0     0%    0    0
## 2  后卫     胡梅尔斯 62&#39; 换下  62&#39;    0    0    1    1   100%    0    0
## 3  后卫       阿拉巴     首发  90&#39;    0    0    0    0     0%    0    0
## 4  后卫         聚勒     首发  90&#39;    1    0    1    1   100%    0    0
## 5  后卫       基米希     首发  90&#39;    0    0    0    0     0%    0    0
## 6  中场       里贝里 77&#39; 换下  77&#39;    0    0    0    0     0%    0    0
## 7  中场       比达尔     首发  90&#39;    0    1    1    0     0%    1    0
## 8  中场         鲁迪     首发  90&#39;    0    1    0    0     0%    0    0
## 9  中场       托利索     首发  90&#39;    1    0    4    3    75%    0    0
## 10 前锋         穆勒 61&#39; 换下  61&#39;    0    0    1    1   100%    0    0
## 11 前锋 莱万多夫斯基     首发  90&#39;    1    0    3    1    33%    0    0
## 12 后卫     拉菲尼亚 62&#39; 出场  28&#39;    0    0    0    0     0%    0    0
## 13 中场         罗本 61&#39; 出场  29&#39;    0    0    1    1   100%    0    0
## 14 中场         科曼 77&#39; 出场  13&#39;    0    0    1    0     0%    0    0
## 15 门将   弗吕希特尔     替补   0&#39;    0    0    0    0     0%    0    0
## 16 后卫     弗里德尔     替补   0&#39;    0    0    0    0     0%    0    0
## 17 中场       桑谢斯     替补   0&#39;    0    0    0    0     0%    0    0
## 18 前锋     潘托维奇     替补   0&#39;    0    0    0    0     0%    0    0
## 19 总计                               3    2   13    8    62%    1    0
##    犯规 被犯 越位 扑救
## 1     0    0    0    3
## 2     2    0    0    0
## 3     1    0    0    0
## 4     0    1    0    0
## 5     0    2    0    0
## 6     1    5    0    0
## 7     2    0    0    0
## 8     0    0    0    0
## 9     2    4    0    0
## 10    1    0    0    0
## 11    1    2    3    0
## 12    2    1    0    0
## 13    0    1    1    0
## 14    1    0    1    0
## 15    0    0    0    0
## 16    0    0    0    0
## 17    0    0    0    0
## 18    0    0    0    0
## 19   13   16    5    3</code></pre>
<pre class="r"><code>print(away)</code></pre>
<pre><code>##    位置        球员名     出场 时间 进球 助攻 射门 射正 射正率 黄牌 红牌
## 1  门将          莱诺     首发  90&#39;    0    0    0    0     0%    0    0
## 2  后卫     斯文-本德 45&#39; 换下  45&#39;    0    0    0    0     0%    0    0
## 3  后卫     约纳坦-塔     首发  90&#39;    0    0    0    0     0%    0    0
## 4  后卫        文德尔     首发  90&#39;    0    0    2    0     0%    0    0
## 5  后卫      亨里希斯     首发  90&#39;    0    0    0    0     0%    0    0
## 6  中场      穆罕默迪 46&#39; 换下  46&#39;    1    0    2    2   100%    0    0
## 7  中场      贝拉拉比     首发  90&#39;    0    0    6    0     0%    0    0
## 8  中场 多米尼克-科尔     首发  90&#39;    0    0    3    0     0%    1    0
## 9  中场      阿朗吉斯 61&#39; 换下  61&#39;    0    0    0    0     0%    1    0
## 10 前锋        福兰德     首发  90&#39;    0    0    1    1   100%    0    0
## 11 前锋     利昂-贝利 45&#39; 换下  45&#39;    0    0    1    0     0%    0    0
## 12 后卫    德拉戈维奇 45&#39; 出场  45&#39;    0    0    0    0     0%    0    0
## 13 中场        坎普尔 61&#39; 出场  29&#39;    0    0    1    0     0%    0    0
## 14 门将        厄兹詹     替补   0&#39;    0    0    0    0     0%    0    0
## 15 前锋        布兰特 46&#39; 出场  44&#39;    0    1    3    1    33%    0    0
## 16 中场  鲍姆加特林格     替补   0&#39;    0    0    0    0     0%    0    0
## 17 中场      尤尔琴科     替补   0&#39;    0    0    0    0     0%    0    0
## 18 前锋    波赫扬帕洛     替补   0&#39;    0    0    0    0     0%    0    0
## 19 总计                                1    1   19    4    21%    2    0
##    犯规 被犯 越位 扑救
## 1     0    0    0    5
## 2     0    1    0    0
## 3     2    1    0    0
## 4     1    1    0    0
## 5     0    0    0    0
## 6     2    2    0    0
## 7     1    1    1    0
## 8     3    1    0    0
## 9     2    2    0    0
## 10    2    0    0    0
## 11    2    0    0    0
## 12    1    1    0    0
## 13    0    0    0    0
## 14    0    0    0    0
## 15    1    1    0    0
## 16    0    0    0    0
## 17    0    0    0    0
## 18    0    0    0    0
## 19   17   11    1    5</code></pre>
</div>

    </div>
  </article>

  


</main>

      <footer class="footer">
        <ul class="footer-links">
          <li>
            <a href="/index.xml" type="application/rss+xml" target="_blank">RSS feed</a>
          </li>
          <li>
            <a href="https://gohugo.io/" class="footer-links-kudos">Made with <img src="/images/hugo-logo.png" alt="Img link to Hugo website" width="22" height="22"></a>
          </li>
        </ul>
      </footer>

    </div>
    



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



    
<script src="/js/math-code.js"></script>
<script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>


    
  </body>
</html>

