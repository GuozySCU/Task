---
title: Time series
author: Ziyu Guo
date: '2019-06-27'
slug: time-series
categories:
  - R
tags: []
---



<p>建一个时间序列函数</p>
<pre class="r"><code>timeSerise&lt;-function(x,mon=TRUE){
  if(as.Date(x)&gt;as.Date(&quot;1949-09-02&quot;)){
    xlt&lt;-as.POSIXlt(as.Date(x))
    xla&lt;-as.POSIXlt(as.Date(&quot;1945-09-02&quot;))
    if(mon){
      result&lt;-paste(&quot;结果是&quot;,xlt$mon-xla$mon)
    }else{
      result&lt;-paste(&quot;结果是&quot;,xlt$year-xla$year)
    }
    print(result)
  }else{
    print(&quot;输入日期小于二战胜利日期，重新输吧&quot;)
  }
}
#函数功能是计算输入日期与二战胜利日期的年份差或者月份差，输入形式必须为“YYYY-MM-DD”，而且输入日期必须比1945-09-02要晚，否则会跳出错误信息
timeSerise(&quot;2019-06-27&quot;,mon=FALSE)</code></pre>
<pre><code>## [1] &quot;结果是 74&quot;</code></pre>
<pre class="r"><code>timeSerise(&quot;1999-12-11&quot;,mon=TRUE)</code></pre>
<pre><code>## [1] &quot;结果是 3&quot;</code></pre>
<pre class="r"><code>timeSerise(&quot;1800-01-02&quot;)</code></pre>
<pre><code>## [1] &quot;输入日期小于二战胜利日期，重新输吧&quot;</code></pre>
