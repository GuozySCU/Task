---
title: Studying ggplot2!
author: Ziyu GUO
date: '2019-06-13'
slug: studying-ggplot2
categories:
  - R
tags: []
---



<p>来学习ggplot2,以ggplot2包自带的mpg数据集为数据</p>
<ul>
<li>散点图</li>
</ul>
<pre class="r"><code>library(ggplot2)
mpg</code></pre>
<pre><code>## # A tibble: 234 x 11
##    manufacturer model displ  year   cyl trans drv     cty   hwy fl    class
##    &lt;chr&gt;        &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;
##  1 audi         a4      1.8  1999     4 auto~ f        18    29 p     comp~
##  2 audi         a4      1.8  1999     4 manu~ f        21    29 p     comp~
##  3 audi         a4      2    2008     4 manu~ f        20    31 p     comp~
##  4 audi         a4      2    2008     4 auto~ f        21    30 p     comp~
##  5 audi         a4      2.8  1999     6 auto~ f        16    26 p     comp~
##  6 audi         a4      2.8  1999     6 manu~ f        18    26 p     comp~
##  7 audi         a4      3.1  2008     6 auto~ f        18    27 p     comp~
##  8 audi         a4 q~   1.8  1999     4 manu~ 4        18    26 p     comp~
##  9 audi         a4 q~   1.8  1999     4 auto~ 4        16    25 p     comp~
## 10 audi         a4 q~   2    2008     4 manu~ 4        20    28 p     comp~
## # ... with 224 more rows</code></pre>
<pre class="r"><code>#画黑白散点图
a&lt;-ggplot(mpg,aes(x=displ,y=hwy))
a+geom_point()+theme_classic()</code></pre>
<p><img src="/post/2019-06-13-studying-ggplot2_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
<pre class="r"><code>#画彩色散点图
ggplot(mpg,aes(x=displ,y=hwy,colour=class))+geom_point()+theme_classic()</code></pre>
<p><img src="/post/2019-06-13-studying-ggplot2_files/figure-html/unnamed-chunk-1-2.png" width="672" /></p>
<pre class="r"><code>#或者单一颜色的散点图
a+geom_point(colour=&quot;red&quot;)+theme_classic()</code></pre>
<p><img src="/post/2019-06-13-studying-ggplot2_files/figure-html/unnamed-chunk-1-3.png" width="672" /></p>
<pre class="r"><code>#在黑白图上添加一条平滑的曲线
#曲线周围的灰色部分是置信区间，如果不需要标注标准误差可加入stat_smooth(se=FALSE)参数去掉
a+theme_classic()+geom_point()+stat_smooth()</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="/post/2019-06-13-studying-ggplot2_files/figure-html/unnamed-chunk-1-4.png" width="672" /></p>
<pre class="r"><code>#对散点图进行分组展示，添加facet_wrap()函数
ggplot(mpg,aes(x=displ,y=hwy,colour=class))+geom_point()+theme_classic()+facet_wrap(~class)</code></pre>
<p><img src="/post/2019-06-13-studying-ggplot2_files/figure-html/unnamed-chunk-1-5.png" width="672" /></p>
<ul>
<li>箱线图</li>
</ul>
<pre class="r"><code>ggplot(mpg, aes(drv, hwy, fill=drv))+geom_boxplot()+theme_bw()</code></pre>
<p><img src="/post/2019-06-13-studying-ggplot2_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<pre class="r"><code>#加入扰动点图
ggplot(mpg, aes(drv, hwy, fill=drv))+geom_boxplot()+theme_classic()+geom_point(position = position_jitterdodge())+scale_fill_brewer(palette = &quot;Set2&quot;)</code></pre>
<p><img src="/post/2019-06-13-studying-ggplot2_files/figure-html/unnamed-chunk-2-2.png" width="672" /></p>
<pre class="r"><code>#小提琴图
ggplot(mpg, aes(drv, hwy, fill=drv))+geom_violin()</code></pre>
<p><img src="/post/2019-06-13-studying-ggplot2_files/figure-html/unnamed-chunk-2-3.png" width="672" /></p>
<ul>
<li>直方图和密度曲线图</li>
</ul>
<pre class="r"><code>ggplot(mpg, aes(hwy)) + geom_histogram(binwidth = 0.6)</code></pre>
<p><img src="/post/2019-06-13-studying-ggplot2_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<pre class="r"><code>#密度曲线图
ggplot(mpg, aes(displ, colour = drv)) + geom_freqpoly(binwidth = 0.5)</code></pre>
<p><img src="/post/2019-06-13-studying-ggplot2_files/figure-html/unnamed-chunk-3-2.png" width="672" /></p>
<p>然后就能自己分析了，我就不分析了- -</p>
